<!DOCTYPE html>
<head>
  <!-- import bootstrap css-->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <!-- import font-->
  <link href="https://fonts.googleapis.com/css?family=Quicksand:300,400,500,700" rel="stylesheet">
  <!-- import site css -->
  <link rel="stylesheet" href="static/css/main.css">

  <!-- import jquery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src='jquery.serialize-object.min.js'></script>
</head>
<body>
  <div class='container-fluid'>
    <nav class='navbar navbar-light justify-content-between'>
      <a class='navbar-brand' href='index.html'>
        <img src='img/icon.png' height='60px' width='60px' class='d-inline-block align-top'>
      </a>
      <span class='navbar-text'>
        <a href='about.html'>
        about
        </a>
      </span>
      <span class='navbar-text'>
        <a href='board.html'>
        meet the board
        </a>
      </span>
      <span class='navbar-text'>
        <a href='gear.html'>
        gear closet
        </a>
      </span>
      <span class='navbar-text'>
        <a href='calendar.html'>
        calendar
        </a>
      </span>
      <span class='navbar-text last'>
        <a href='contact.html'>
        contact
        </a>
      </span>
    </nav>

    <div class='row'>
      <div class='col text-center'>
          <img src='img/gear.png' id='gear'>
        <div class="subpage-text">gear exchange</div>
      </div>
    </div>
   
    <div class='row'>
      <div class='col-md-3'>
      </div>
      <div class='col-md-6'>
        <div class="alert alert-success text-center" id='success-banner' role="alert" style='display:none;'>
          thanks! we'll be in touch :)
        </div>

        <form id="test-form">
          <div class='form-group'>
            <label>Name</label>
            <input type="text" name="name" class='form-control' placeholder='Name'/>
          </div>

          <div class='form-group'>
            <label>Columbia/Barnard Email</label>
            <input type="email" name="uni" class='form-control' placeholder="Email"/>
          </div>

          <div class='form-group'>
            <label>Year & School</label>
            <input type="text" name="yearschool" class='form-control' placeholder="Ex. GS 2020"/>
          </div>

          <div class='form-group'>
            <label>Requested gear</label>
            <textarea rows='3' name="requested_gear" class='form-control'></textarea>
          </div>

          <div class='form-group'>
            <label>Requested rental dates (start-end)</label>
            <input type="text" name="dates" class='form-control'/>
          </div>


  <div>
    <button type="submit"id="submit-form" class='btn btn-primary'>Submit</button>
  </div>

  <div class='spinner-grow text-primary' id='spinner' style='display:none;' role='status'></div>

</form> 
      </div>
      <div class='col-md-3'>
      </div>
    </div>

<script>
  var $form = $('form#test-form'),
    url = 'https://script.google.com/macros/s/AKfycbwMNHmt43YGeY_PGfzXvQBCqITetWmK4VYjrJSHV2N-hObOM0A/exec'

$('#submit-form').on('click', function(e) {
  e.preventDefault();
  $("#submit-form").attr("disabled", true);
  $("#submit-form").html("<span class='spinner-border spinner-border-sm' role='status' aria-hidden='true'></span> Loading...");
  var jqxhr = $.ajax({
    url: url,
    method: "GET",
    dataType: "json",
    data: $form.serializeObject(),
    success: function() { var form = document.getElementById("test-form");
      form.reset(); 
      $("#submit-form").attr("disabled", false);
      $("#submit-form").html("Submit");
      $("#success-banner").css("display", "block");
    }
})
});
</script>
  </div>
</body>
</html>

